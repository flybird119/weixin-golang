syntax = "proto3";

package pb;

import "pb/common.proto";
import "pb/goods.proto";

service CartService{
    rpc CartAdd (Cart) returns (NormalResp); //å¢åŠ è´­ç‰©è½¦
    rpc CartList (Cart) returns (CartListResp); //è´­ç‰©è½¦åˆ—è¡¨
    rpc CartUpdate (CartUpdateReq) returns (NormalResp); //æ›´æ”¹è´­ç‰©è½¦
    rpc CartDel (Cart) returns (NormalResp);    //åˆ é™¤è´­ç‰©è½¦
}

//è´­ç‰©è½¦model
message Cart{
    string id = 1;           //è®¢å•ç¼–å·
    string user_id = 2;     //ç”¨æˆ·ç¼–å·
    string store_id = 3;    //äº‘åº—é“ºid
    string goods_id = 4;    //å•†å“id
    int64 type = 5;         //ç±»å‹ 0 æ–°ä¹¦ 1æ—§ä¹¦
    int64 amount = 6;       //è´­ä¹°æ•°é‡
    int64 create_at = 7;    //åˆ›å»ºæ—¶é—´
    TypeGoods goods_detail = 8; //å•†å“è¯¦æƒ…
    string ids = 9;         //ids
}

message CartUpdateReq{
    repeated Cart carts = 1; //è´­ç‰©è½¦é›†åˆ
    string store_id = 2;
    string user_id = 3;
}
// ğŸ›’ è´­ç‰©è½¦åˆ—è¡¨
message CartListResp{
    string code = 1;         //æ“ä½œç 
    string message =2;       //å“åº”æ¶ˆæ¯
    repeated Cart data = 3;  //dataé›†åˆ
}
